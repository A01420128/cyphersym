# Tarea 5. Cifrado simétrico simple
Esta tarea tiene como objetivo implementar dos cifrados simétricos: el cifrado del césar y el cifrado de vigenere. Los dos parten del principio de recorrer los caracteres de un mensaje de acuerdo a una llave. Para el cifrado del césar, la llave es un único carácter que se aplica en todos los caracteres del mensaje por lo que el corrimiento es el mismo para todos. En cambio, el cifrado de vigenere contempla una secuencia de caracteres que son aplicados cíclicamente a los caracteres del mensaje como un corrimiento del cesar. En este caso el corrimiento a lo largo del mensaje no es el mismo para todos los caracteres.
### Implementación en un programa .c
Se realizó un programa de cifrado y uno de descifrado tanto para el cifrado del césar como para el de vigenere. Los dos programas reciben un archivo con el texto en claro, ejemplo plaintext.txt, el cual es cifrado con el programa correspondiente y el ciphertext es guardado en cyphertext.txt. Después se ejecuta el programa de descifrado sobre el archivo cyphertext.txt el cual descifra y guarda el texto en un archivo decrypted.txt. Por lo tanto el archivo plaintext.txt y decrypted.txt al final son iguales.

Sobre esta premisa se desarrollaron los programas:
- cesare.c: para encriptar el texto en claro de acuerdo al cesar.
- cesard.c: para desencriptar el texto cifrado de acuerdo al cesar.
- vigeneree.c: para encriptar el texto en claro de acuerdo a vigenere.
- vigenered.c: para desencriptar el texto cifrado de acuerdo a vigenere.

Para los programas de encriptación, cesare.c y vigeneree.c, se abre el archivo plaintext.txt en forma de lectura. De este archivo se lee los primeros 100 caracteres de la primera línea y se guardan en un arreglo de caracteres. Este arreglo es introducido en una función que encripta de la siguiente forma. 
- Para césar se pide un único carácter en consola que será la llave. Este carácter se compara con la letra a y se obtiene su valor como entero. Después este valor modifica a cada uno de los caracteres del arreglo de texto en claro sumando el valor de la llave a cada carácter, obteniendo así un arreglo de caracteres cifrados.
- Para vigenere se pide una secuencia de caracteres que se vuelve la llave. Cada carácter de esta secuencia es comparada con la letra a y se obtiene su valor como entero. Después se comienza a modificar cada carácter del texto en claro con el carácter en la misma posición de la llave, es decir se le suma el valor a cada carácter. Cuando se agotan las posiciones de la llave se reinicia con la posición zero para lograr una llave cíclica. Así se obtiene un arreglo de caracteres cifrados cada uno con un corrimiento dependiendo de la llave cíclica

En los dos programas de cifrado se obtiene un arreglo de caracteres cifrados el cual se escribe en un archivo llamado cyphertext.txt.
Después se realizaron dos programas de descifrado, cesard.c y vigenered.c, los cuales leen el archivo cyphertext.txt, guardan el texto cifrado en un arreglo de caracteres y aplican en las mismas formas mencionadas de encriptación pero ahora el y los valores en las llaves son restados en lugar de ser sumados. Ambos programas escriben el arreglo descifrado en un texto llamado decrypted.txt, este archivo será completamente igual al archivo plaintext.txt.
### Análisis de resultados
Se decidió realizar programas de descifrado y descifrado que leyeran y guardaran los textos en archivos, esto tiene dos ventajas, la primera es que el texto descrypted.txt puede ser comparado con plaintext.txt y comprobar que son idénticos. La segunda ventaja es que el programa puede ser fácilmente modificado para aceptar una archivo de multilínea, además que los archivos encriptados podrán ser compartidos y desencriptados por otros usuarios con el archivo de desencriptación y la llave.
Otro resultado de esta implementación fue la utilización del lenguaje C, el cual trabaja en un bajo nivel y por lo tanto los caracteres son fácilmente convertidos a valores numéricos. Ademas que tambien podria ser modificado para encriptar directamente archivos de cualquier tipo abriendo los archivos como binarios.
Los programas para los dos tipos de cifrado fueron muy similares y sólo difirieron en la sección de modificación del arreglo de texto en claro, por esta razón la implementación en código fue simplificada y a pesar de ser cuatro archivos diferentes, el proceso de desarrollo fue corto.
En cuanto a las diferencias de las técnica de encriptación se puede observar inmediatamente que el cifrado de vigenere tiene una complejidad mayor al del cesar a pesar de ocupar también un corrimiento de caracteres. En el código se observa que requiere pasos adicionales encriptar con vigenere. En este último se pide una secuencia de caracteres y no un solo carácter, después cada carácter del texto en claro tiene cierto valor de corrimiento el cual depende de la posición de referencia que se tenga con la secuencia de caracteres que conforman la llave. Esto genera que se contemple mayor efectividad en el método de vigenere, ya que se observa que se aplica la misma técnica del césar pero en diferentes corrimientos para el mismo texto en plano, incrementando así la complejidad del criptoanálisis a realizar para quebrantar la encriptación. 
### Criptoanalisis
Para el de César, con fuerza bruta y tan solo 100 caracteres, se podría realizar un for loop que vaya del 0 al 26 y que imprima la desencriptación en consola. Estas veintiséis líneas podrán ser leídas rápidamente para descubrir el texto en claro. Incluso si el archivo tiene más de 100 caracteres y es multilínea, se podrían utilizar así mismo los primeros 100 caracteres y buscar cual de las llaves hizo que el texto tuviera sentido. 
Por otro lado se puede ocupar una análisis de frecuencias realizando un programa que guarde en un arreglo la frecuencia en la que aparece cada carácter en el texto cifrado. Después de recorrer todo el texto se pueden relacionar estas frecuencias a una tabla como la siguiente. 
(Sciencebuddies, s.f.)
De esta forma se podrá obtener cuál fue el corrimiento para todo el texto y aplicar la desencriptación. 

En cuanto al análisis de el cifrado de vigenere, con fuerza bruta se puede ocupar los primeros 50 caracteres e intentar con una llave de cuatro caracteres que podrá tener 27^4 diferentes combinaciones o 531441. Este valor sigue siendo adecuado para ser realizado en una programa donde se ocupe la fuerza bruta y se imprima el texto descifrado para cada una de esas llaves. Entonces se podrá buscar cual de esas impresiones contiene palabras de cuatro caracteres máximo que tengan sentido. Me parece que después de ser analizado podría correrse más veces hasta llegar a una llave que contenga suficiente información para entender el mensaje. 
En cuanto a un análisis de frecuencia en vigenere se observan complicaciones ya que se ocupa diferente llave para cada caracter ademas que por la naturaleza  cíclica de la llave, una palabra que aparece múltiples veces en el texto puede ser encriptada por diferentes ocurrencias de la llave de acuerdo a la posición en que se encuentre en el ciclo. Sin embargo es como se explica en la página web The Black Chamber, Vigenere Cracking Tool, es este descubrimiento el que lleva a el craqueo de este método. Se pueden observar las secuencias de letras que aparecen a lo largo del texto y evaluar su espaciamiento, de esta forma se puede analizar cuál es la longitud potencial de la llave. Si se realiza un análisis de todo el texto se podrá llegar a un espaciado en el cual se repiten más secuencias de caracteres similares. Es este espacio que será considerado como la longitud de la llave, entonces para cada posición de la llave se realizará un análisis de frecuencia independiente con el cual se podrá realizar la desencriptación del mensaje.
### Conclusion
Considero que esta actividad reforzó sustancialmente mi aprendizaje de los métodos simétricos simples. En dos manera impactó, la primera en realizar una implementación individual y observar el comportamiento de los mensajes en claro y cifrados en la computadora, esto mejora la relación entre algoritmos y conceptos. La segunda manera de impacto es en la investigación ya que me aclaro la relevancia del análisis de frecuencias. Está entendido que estos no son métodos de cifrado que se ocupen en la práctica pero sí los considero parte del reforzamiento de conceptos básicos de criptografía, tanto para entender el papel del texto cifrado, encriptacion, desencriptacion, llaves y ciphers como para el entendimiento del criptoanálisis. Los programas realizados fueron satisfactorios y su funcionamiento fue comprobado con distintos mensajes y llaves.
### Referencias
El codigo puede ser revisado en: [Github](https://github.com/A01420128/cyphersym)

[Scienciebuddies. (s. f.) Crack de Code: Breaking a Caesar Cipher. Science Buddies.](https://www.sciencebuddies.org/science-fair-projects/project-ideas/Cyber_p005/cybersecurity/crack-caesar-cipher#background)

[Singh, S. (s. f.) Vigenere Cracking Tool. The Black Chamber.](https://www.simonsingh.net/The_Black_Chamber/vigenere_cracking_tool.html)


